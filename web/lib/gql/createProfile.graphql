# Queries used in components/create-profile

query ProfileListingSocials($profile_listing_id: uuid!) {
  profile_listing_social(
    where: { profile_listing: { id: { _eq: $profile_listing_id } } }
  ) {
    id
    profile_listing_id
    type
    link
  }
}

mutation UpdateListingSocials(
  $profile_listing_id: uuid!
  $profile_listing_social: [profile_listing_social_insert_input!]!
) {
  delete_profile_listing_social(
    where: { profile_listing_id: { _eq: $profile_listing_id } }
  ) {
    affected_rows
    returning {
      id
    }
  }
  insert_profile_listing_social(objects: $profile_listing_social) {
    affected_rows
    returning {
      id
      profile_listing_id
      type
      link
    }
  }
}
