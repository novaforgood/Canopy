query User($id: String!) {
  users_by_pk(id: $id) {
    id
    email
  }
}

query AllProfilesOfUser($user_id: String!) {
  profiles(where: { user_id: { _eq: $user_id } }) {
    id
    space {
      id
      name
      slug
    }
  }
}

mutation CreateOwnerProfileInNewSpace(
  $user_id: String!
  $space: spaces_insert_input!
) {
  insert_profiles_one(object: { space: { data: $space }, user_id: $user_id }) {
    id
    space_id
    space {
      id
      name
      slug
    }
    user_id
  }
}
